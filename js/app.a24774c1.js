(function(e){function t(t){for(var a,n,s=t[0],l=t[1],c=t[2],p=0,f=[];p<s.length;p++)n=s[p],o[n]&&f.push(o[n][0]),o[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},o={app:0},i=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("64a9"),o=r.n(a);o.a},"3bba":function(e,t,r){"use strict";var a=r("74ca"),o=r.n(a);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),o=r("5c96"),i=r.n(o),n=(r("0fae"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("FishEditPic",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)}),s=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{directives:[{name:"show",rawName:"v-show",value:1===e.page,expression:"page === 1"}],staticClass:"config"},[r("div",{staticClass:"title"},[e._v("配置七牛相关信息")]),r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"存储空间(Bucket)","label-width":"150px",prop:"static"}},[r("el-input",{model:{value:e.form.static,callback:function(t){e.$set(e.form,"static",t)},expression:"form.static"}})],1),r("el-form-item",{attrs:{label:"AK(Access Key)","label-width":"150px",prop:"ak"}},[r("el-input",{model:{value:e.form.ak,callback:function(t){e.$set(e.form,"ak",t)},expression:"form.ak"}})],1),r("el-form-item",{attrs:{label:"SK(Secret Key)","label-width":"150px",prop:"sk"}},[r("el-input",{model:{value:e.form.sk,callback:function(t){e.$set(e.form,"sk",t)},expression:"form.sk"}})],1),r("el-form-item",{attrs:{label:"网址前缀","label-width":"150px",prop:"preSite"}},[r("el-input",{model:{value:e.form.preSite,callback:function(t){e.$set(e.form,"preSite",t)},expression:"form.preSite"}})],1),r("el-form-item",{attrs:{label:"参数","label-width":"150px",prop:"params"}},[r("el-input",{model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.saveFormToLocal}},[e._v("保存")]),r("div",[e._v("此信息仅保存在本地")])],1)],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:2===e.page,expression:"page === 2"}],staticClass:"upload"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"#config"},on:{click:function(t){e.page=1}}},[e._v("配置")])]),r("el-breadcrumb-item",[e._v("上传")])],1),r("div",{staticClass:"title"},[e._v("上传图片")]),r("el-upload",{ref:"uploadNow",staticClass:"upload-demo",attrs:{drag:"",action:e.actionPath,data:e.postData,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,multiple:""}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])]),r("el-button",{ref:"copyBtn",staticClass:"cpLink",attrs:{id:"copyBtn",type:"primary"},on:{click:e.doCopy}},[e._v("\n            复制链接\n        ")])],1)])},c=[],u=r("f499"),p=r.n(u),f=(r("6b54"),r("a481"),r("3452")),m=r.n(f);function d(e){var t,r,a,o;for(t="",a=e.length,r=0;r<a;r++)o=e.charCodeAt(r),o>=1&&o<=127?t+=e.charAt(r):o>2047?(t+=String.fromCharCode(224|o>>12&15),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|o>>0&63)):(t+=String.fromCharCode(192|o>>6&31),t+=String.fromCharCode(128|o>>0&63));return t}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function g(e){var t,r,a,o,i,n;a=e.length,r=0,t="";while(r<a){if(o=255&e.charCodeAt(r++),r==a){t+=h.charAt(o>>2),t+=h.charAt((3&o)<<4),t+="==";break}if(i=e.charCodeAt(r++),r==a){t+=h.charAt(o>>2),t+=h.charAt((3&o)<<4|(240&i)>>4),t+=h.charAt((15&i)<<2),t+="=";break}n=e.charCodeAt(r++),t+=h.charAt(o>>2),t+=h.charAt((3&o)<<4|(240&i)>>4),t+=h.charAt((15&i)<<2|(192&n)>>6),t+=h.charAt(63&n)}return t}var b=function(e){return e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e},v=function(e,t,r){var a=p()(r),o=g(d(a)),i=m.a.HmacSHA1(o,t),n=i.toString(m.a.enc.Base64),s=e+":"+b(n)+":"+o;return s},k={name:"FishEditPic",components:{"el-upload":o["Upload"],"el-form":o["Form"],"el-form-item":o["FormItem"],"el-breadcrumb":o["Breadcrumb"],"el-breadcrumb-item":o["BreadcrumbItem"]},props:{msg:String},data:function(){return{actionPath:"https://upload.qiniup.com",postData:{},form:{static:"",ak:"",sk:"",preSite:"",params:""},imageUrl:"",imageUrlNew:"",message:"",rules:{static:[{required:!0,message:"请输入存储空间",trigger:"blur"}],ak:[{required:!0,message:"请输入AK",trigger:"blur"}],sk:[{required:!0,message:"请输入SK",trigger:"blur"}],preSite:[{required:!0,message:"请输入前缀网址",trigger:"blur"}]},page:1}},created:function(){this.init(),this._gToken()},methods:{_gToken:function(){var e,t={},r=this.form.static,a=this.form.ak,o=this.form.sk,i=Math.round((new Date).getTime()/1e3)+3600;t.scope=r,t.deadline=i,e=v(a,o,t),this.postData.token=e},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.imageUrlNew="".concat(this.form.preSite,"/").concat(e.key).concat(this.form.params),this.doCopy()},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,r="image/png"===e.type,a="image/gif"===e.type,o=e.size/1024/1024<5;return t||r||a?!!o||(this.$message.error("上传头像图片大小不能超过 5MB!"),!1):(this.$message.error("上传头像图片只能是 JPG, PNG, GIF 格式!"),!1)},doCopy:function(){var e=this;this.$copyText(this.imageUrlNew).then(function(){e.$message({message:"复制成功到剪切板！",type:"success"})},function(){e.$message({message:"请点击下方的【复制链接】按钮！"})})},saveFormToLocal:function(){this.form.static&&this.form.ak&&this.form.sk&&(window.localStorage.setItem("config",p()(this.form)),this.page=2)},init:function(){var e=window.localStorage.getItem("config");e&&(this.form=JSON.parse(e),this.page=2)}}},w=k,y=(r("3bba"),r("2877")),S=Object(y["a"])(w,l,c,!1,null,"344ff177",null),C=S.exports,_={name:"app",components:{FishEditPic:C}},A=_,x=(r("034f"),Object(y["a"])(A,n,s,!1,null,null,null)),j=x.exports,O=r("4eb5"),P=r.n(O);a["default"].use(i.a),a["default"].use(P.a),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(j)}}).$mount("#app")},"64a9":function(e,t,r){},"74ca":function(e,t,r){}});
//# sourceMappingURL=app.a24774c1.js.map