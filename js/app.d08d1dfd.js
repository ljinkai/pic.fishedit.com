(function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],f=0,p=[];f<s.length;f++)i=s[f],o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},o={app:0},n=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("64a9"),o=r.n(a);o.a},5341:function(e,t,r){"use strict";var a=r("6e49"),o=r.n(a);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),o=r("5c96"),n=r.n(o),i=(r("0fae"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("FishEditPic",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)}),s=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{directives:[{name:"show",rawName:"v-show",value:1===e.page,expression:"page === 1"}],staticClass:"config"},[r("div",{staticClass:"title"},[e._v("配置七牛相关信息")]),r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"存储空间",prop:"static"}},[r("el-input",{model:{value:e.form.static,callback:function(t){e.$set(e.form,"static",t)},expression:"form.static"}})],1),r("el-form-item",{attrs:{label:"AK",prop:"ak"}},[r("el-input",{model:{value:e.form.ak,callback:function(t){e.$set(e.form,"ak",t)},expression:"form.ak"}})],1),r("el-form-item",{attrs:{label:"SK",prop:"sk"}},[r("el-input",{model:{value:e.form.sk,callback:function(t){e.$set(e.form,"sk",t)},expression:"form.sk"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.saveFormToLocal}},[e._v("保存")]),r("div",[e._v("此信息仅保存在本地")])],1)],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:2===e.page,expression:"page === 2"}],staticClass:"upload"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"#config"},on:{click:function(t){e.page=1}}},[e._v("配置")])]),r("el-breadcrumb-item",[e._v("上传")])],1),r("div",{staticClass:"title"},[e._v("上传图片")]),r("el-upload",{ref:"uploadNow",staticClass:"upload-demo",attrs:{drag:"",action:e.actionPath,data:e.postData,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,multiple:""}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])]),r("el-button",{ref:"copyBtn",staticClass:"cpLink",attrs:{id:"copyBtn",type:"primary"},on:{click:e.doCopy}},[e._v("\n            复制链接\n        ")])],1)])},l=[],u=r("f499"),f=r.n(u),p=(r("6b54"),r("a481"),r("3452")),m=r.n(p);function d(e){var t,r,a,o;for(t="",a=e.length,r=0;r<a;r++)o=e.charCodeAt(r),o>=1&&o<=127?t+=e.charAt(r):o>2047?(t+=String.fromCharCode(224|o>>12&15),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|o>>0&63)):(t+=String.fromCharCode(192|o>>6&31),t+=String.fromCharCode(128|o>>0&63));return t}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function g(e){var t,r,a,o,n,i;a=e.length,r=0,t="";while(r<a){if(o=255&e.charCodeAt(r++),r==a){t+=h.charAt(o>>2),t+=h.charAt((3&o)<<4),t+="==";break}if(n=e.charCodeAt(r++),r==a){t+=h.charAt(o>>2),t+=h.charAt((3&o)<<4|(240&n)>>4),t+=h.charAt((15&n)<<2),t+="=";break}i=e.charCodeAt(r++),t+=h.charAt(o>>2),t+=h.charAt((3&o)<<4|(240&n)>>4),t+=h.charAt((15&n)<<2|(192&i)>>6),t+=h.charAt(63&i)}return t}var v=function(e){return e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e},b=function(e,t,r){var a=f()(r),o=g(d(a)),n=m.a.HmacSHA1(o,t),i=n.toString(m.a.enc.Base64),s=e+":"+v(i)+":"+o;return s},k={name:"FishEditPic",components:{"el-upload":o["Upload"],"el-form":o["Form"],"el-form-item":o["FormItem"],"el-breadcrumb":o["Breadcrumb"],"el-breadcrumb-item":o["BreadcrumbItem"]},props:{msg:String},data:function(){return{actionPath:"https://upload.qiniup.com",postData:{},form:{static:"",ak:"",sk:""},imageUrl:"",imageUrlNew:"",message:"",rules:{static:[{required:!0,message:"请输入存储空间",trigger:"blur"}],ak:[{required:!0,message:"请输入AK",trigger:"blur"}],sk:[{required:!0,message:"请输入SK",trigger:"blur"}]},page:1}},created:function(){this.init(),this._gToken()},methods:{_gToken:function(){var e,t={},r=this.form.static,a=this.form.ak,o=this.form.sk,n=Math.round((new Date).getTime()/1e3)+3600;t.scope=r,t.deadline=n,e=b(a,o,t),this.postData.token=e},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.imageUrlNew="http://qiniu.gafata.com/".concat(e.key,"?imageView2/2/w/750"),this.doCopy()},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r},doCopy:function(){var e=this;this.$copyText(this.imageUrlNew).then(function(){e.$message({message:"复制成功到剪切板！",type:"success"})},function(){e.$message({message:"请点击下方的【复制链接】按钮！"})})},saveFormToLocal:function(){this.form.static&&this.form.ak&&this.form.sk&&(window.localStorage.setItem("config",f()(this.form)),this.page=2)},init:function(){var e=window.localStorage.getItem("config");e&&(this.form=JSON.parse(e),this.page=2)}}},w=k,y=(r("5341"),r("2877")),C=Object(y["a"])(w,c,l,!1,null,"7ee48296",null),_=C.exports,A={name:"app",components:{FishEditPic:_}},S=A,x=(r("034f"),Object(y["a"])(S,i,s,!1,null,null,null)),j=x.exports,O=r("4eb5"),P=r.n(O);a["default"].use(n.a),a["default"].use(P.a),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(j)}}).$mount("#app")},"64a9":function(e,t,r){},"6e49":function(e,t,r){}});
//# sourceMappingURL=app.d08d1dfd.js.map